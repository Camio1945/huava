# Problem

Imported hutool, use CaptchaUtil.ofLineCaptcha to generate captcha, the JVM code works, but the native image code does not work.

Error:

```text
Exception in thread "http-nio-23456-exec-1": java.lang.NoClassDefFoundError
java.lang.NoClassDefFoundError: java/awt/GraphicsEnvironment
        at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.functions.JNIFunctions.FindClass(JNIFunctions.java:365)
        at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.JNIOnLoadFunctionPointer.invoke(JNILibraryInitializer.java)
        at org.graalvm.nativeimage.builder/com.oracle.svm.core.jni.JNILibraryInitializer.initialize(JNILibraryInitializer.java:119)
        at org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk.NativeLibrarySupport.addLibrary(NativeLibrarySupport.java:128)
        at org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk.NativeLibrarySupport.addLibrary(NativeLibrarySupport.java:84)
        at org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk.NativeLibraries.loadLibrary0(NativeLibraries.java:147)
        at org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk.NativeLibraries.loadLibraryRelative(NativeLibraries.java:128)
        at java.base@25.0.1/java.lang.ClassLoader.loadLibrary(ClassLoader.java:135)
        at java.base@25.0.1/java.lang.Runtime.loadLibrary0(Runtime.java:822)
        at java.base@25.0.1/java.lang.System.loadLibrary(System.java:1685)
        at java.desktop@25.0.1/java.awt.Toolkit.loadLibraries(Toolkit.java:1293)
        at java.desktop@25.0.1/java.awt.Toolkit.initStatic(Toolkit.java:1318)
        at java.desktop@25.0.1/java.awt.Toolkit.<clinit>(Toolkit.java:1299)
        at java.desktop@25.0.1/java.awt.Font.<clinit>(Font.java:284)
        at cn.hutool.v7.swing.captcha.AbstractCaptcha.<init>(AbstractCaptcha.java:122)
        at cn.hutool.v7.swing.captcha.AbstractCaptcha.<init>(AbstractCaptcha.java:104)
        at cn.hutool.v7.swing.captcha.LineCaptcha.<init>(LineCaptcha.java:75)
        at cn.hutool.v7.swing.captcha.LineCaptcha.<init>(LineCaptcha.java:63)
        at cn.hutool.v7.swing.captcha.CaptchaUtil.ofLineCaptcha(CaptchaUtil.java:48)
        at cn.huava.controller.CaptchaController.captcha(CaptchaController.java:19)
```

---

# Solution

